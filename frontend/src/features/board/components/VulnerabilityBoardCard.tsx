import { Box, Paper, Typography, useTheme } from '@mui/material';
import ReportProblemIcon from '@mui/icons-material/ReportProblem';
import NotificationImportantIcon from '@mui/icons-material/NotificationImportant';
import HealthAndSafetyIcon from '@mui/icons-material/HealthAndSafety';
import CrisisAlertIcon from '@mui/icons-material/CrisisAlert';

const VulnerabilityBoardCard = ({ vulnerability, provided, onClick }) => {
  const theme = useTheme();

  let severityIcon;
  switch (vulnerability.criticality) {
    case 'LOW': {
      severityIcon = <HealthAndSafetyIcon sx={{ color: theme.palette.info.main }} />;
      break;
    }
    case 'MEDIUM': {
      severityIcon = <CrisisAlertIcon sx={{ color: theme.palette.success.main }} />;
      break;
    }
    case 'HIGH': {
      severityIcon = <NotificationImportantIcon sx={{ color: theme.palette.warning.main }} />;
      break;
    }
    case 'CRITICAL': {
      severityIcon = <ReportProblemIcon sx={{ color: theme.palette.error.main }} />;
      break;
    }
  }
  return (
    <Paper
      onClick={onClick}
      ref={provided.innerRef}
      {...provided.draggableProps}
      {...provided.dragHandleProps}
      sx={{ p: 1, mb: 1, cursor: 'grab', minHeight: '6rem' }}
    >
      <Box
        display="flex"
        minHeight="inherit"
        flexDirection="column"
        justifyContent="space-between"
        alignItems="start"
      >
        <Typography fontSize="1rem" fontWeight={500}>
          {vulnerability.title}
        </Typography>
        <Box display="flex" justifyContent="space-between" width="100%">
          <Typography fontWeight={500} fontSize="0.85rem" color="primary">
            {vulnerability.cwe}
          </Typography>
          {severityIcon}
        </Box>
      </Box>
    </Paper>
  );
};

export default VulnerabilityBoardCard;
